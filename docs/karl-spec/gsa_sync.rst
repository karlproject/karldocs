========
GSA Sync
========

Deactivation
============

- When a staff member leaves the organization, they get deactivated in
  GSA

- In exit interview, the person is given the opportunity to continue
  participating in KARL

- If so, GSA tells KARL to convert the person to a KarlAffiliate but
  keep their profile, albeit with a new email address

- The user is removed from all KARL communities. Each moderator is
  emailed a link telling them were removed, with a link to re-add them.

- Content owned by that user remains owned by them, but links show up
  with a badge that says "Inactive"

- The user also disappears from the staff directory

- If the user does not want to continue participating in KARL,
  they disappear from all searches (unless a KarlAdmin is doing the
  searching) and moderators are not notified


Featues and Policies
====================

- KARL contacts GSA and sends a date/timestamp for the last successful
  retrieval

- GSA responds with an XML file containing all changes since the last
  successful update



A complete specification is available at :doc:`../specs/drafts/gsa-sync`.